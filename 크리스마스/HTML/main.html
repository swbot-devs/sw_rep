<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í–¥ì¼ê³  ì œ14ëŒ€ í•™ìƒìì¹˜íšŒ</title>
<link rel="icon" href="img/í–¥ì¼ê³ ì •ë³´ê¸°ë¡ì‹¤ì¸.jpg" type="image/jpg">

<style>
/* í°íŠ¸ ë“±ë¡ // í°íŠ¸ ë‹¤ìš´ë¡œë“œ ê²½ë¡œëŠ” fonts/fonts.txtë¥¼ í™•ì¸í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤. */
/* Cafe24 í°íŠ¸ (body) */
@font-face {
    font-family: 'Cafe24Ssurround';
    src: url('fonts/Cafe24Ssurround-v2.0.woff2') format('woff2'),
         url('fonts/Cafe24Ssurround-v2.0.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

/* Gothic A1 í°íŠ¸ (ê²°ê³¼ ì·¨í•©) */
@font-face {
    font-family: "GothicA1";
    src: url('fonts/GothicA1-Medium.woff2') format('woff2');
    font-weight: 500;
    font-style: normal;
}

/* Paperlogy í°íŠ¸ (í¬ë ˆë”§ & ë§ˆê° íŒì—…) */
@font-face {
    font-family: 'Paperlogy';
    src: url('fonts/Paperlogy-5Medium.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
}


/* ê¸°ë³¸ */
html {height: 100vh;}
body {
    margin: 0;
    font-family: 'Cafe24Ssurround', sans-serif;
    background: linear-gradient(#0b3d2e, #145a32);
    color: white;
    text-align: center;
    height: 100vh;
}

.container {
    padding-top: 120px;
}


/* í˜„ì¬ ì‹œê°„ */
#clock {
    position: fixed;
    left: 20px;
    top: 20px;
    font-size: 22px;
    opacity: 0.9;
}


#finishOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    display: none;
    justify-content: center;
    align-items: center;
}

.popup-box {
    background: white;
    width: 500px;
    border-radius: 25px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.8);
    overflow: hidden;
    animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    text-align: center;
    font-family: 'Paperlogy', sans-serif;
}

.popup-header {
    background: #007bff;
    color: white;
    padding: 30px;
    font-size: 32px;
    font-weight: 700;
}

.popup-content {
    padding: 60px 40px;
    color: #111;
    font-size: 32px;
    line-height: 1.6;
    word-break: keep-all;
}

.popup-btn {
    background: #343a40;
    color: white;
    border: none;
    padding: 18px 80px;
    margin-bottom: 40px;
    font-size: 22px;
    cursor: pointer;
    border-radius: 12px;
    font-family: 'Paperlogy', sans-serif;
    transition: all 0.2s;
}

.popup-btn:hover {
    background: #000;
    transform: scale(1.05);
}

@keyframes popIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}


/* ì°¾ì€ ë³´ë¬¼ / ë‚¨ì€ ë³´ë¬¼ ê°œìˆ˜ */
#treasureCount {
    position: fixed;
    right: 20px;
    top: 20px;

    background: rgba(0, 0, 0, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.4);
    border-radius: 15px;
    padding: 12px 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    backdrop-filter: blur(4px);

    font-family: 'Cafe24Ssurround', sans-serif;
    font-size: 18px;
    text-align: center;
    line-height: 1.6;
    color: #fff;
    font-weight: bold;
    z-index: 100;
}


/* ê³µí†µ ìš”ì†Œ */
h1 {
    font-size: 42px;
    margin-bottom: 10px;
}

input {
    font-size: 28px;
    padding: 12px;
    width: 220px;
    text-align: center;
    border-radius: 10px;
    border: none;
    font-family: inherit;
}

button {
    font-size: 22px;
    padding: 12px 30px;
    margin-top: 15px;
    border-radius: 30px;
    border: none;
    background: #e74c3c;
    color: white;
    font-family: inherit;
}

.hidden {
    display: none;
}


/* ê²°ê³¼ í™”ë©´ */
.result {
    font-size: 60px;
    margin-top: 50px;
}

.countdown {
    margin-top: 15px;
    font-size: 18px;
    opacity: 0.8;
    animation: jump 1s infinite;
}

@keyframes jump {
    0%   { transform: translateY(0); }
    50%  { transform: translateY(-4px); }
    100% { transform: translateY(0); }
}


/* ê´€ë¦¬ì ë²„íŠ¼ */
#adminBtn {
    position: fixed;
    right: 20px;
    bottom: 20px;
    width: 76px;
    height: 76px;
    border-radius: 50%;
    background: white;
    border: none;
    padding: 6px;
    box-shadow: 0 0 10px rgba(255,255,255,0.6);
}

#adminBtn img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 50%;
}


/* ê´€ë¦¬ì íŒ¨ë„ */
#adminPanel {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: none;
}

#adminBox {
    position: relative;
    background: white;
    color: black;
    width: 300px;
    padding: 20px;
    border-radius: 20px;
    margin: 150px auto;
}

#closeX {
    position: absolute;
    top: 10px;
    right: 14px;
    background: none;
    border: none;
    font-size: 22px;
    cursor: pointer;
    color: #555;
}

/* ê´€ë¦¬ì ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn-main {
    background: #e74c3c;
    color: white;
    font-size: 20px;
    padding: 14px;
    width: 100%;
    border-radius: 30px;
    border: none;
    margin-top: 10px;
}

.btn-close {
    background: #888;
    color: white;
    font-size: 18px;
    padding: 12px;
    width: 100%;
    border-radius: 30px;
    border: none;
}

.btn-close:hover {
    background: #555;
}


/* ì œì‘ì í‘œì‹œ */
#credit {
    position: fixed;
    left: 20px;
    bottom: 20px;
    font-size: 18px;
    opacity: 0.95;
    text-align: left;
    font-family: 'Paperlogy', sans-serif;
}

#credit .name {
    font-size: 20px;
    font-weight: bold;
    color: #ffd966;
}
</style>
</head>


<body>

<div id="clock"></div>

<div id="treasureCount"></div>

<div class="container" id="inputScreen">
    <h1>ğŸ„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë³´ë¬¼ì°¾ê¸° ğŸ„</h1>
    <h2>í•™ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”</h2>
    <input inputmode="numeric" id="code" maxlength="5" placeholder="00000"
    onkeydown="if(event.key === 'Enter') saveCode()">
    <br>
    <button onclick="saveCode()">í™•ì¸</button>
</div>

<div class="container hidden" id="successScreen">
    <div class="result">ğŸ<br>ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
    <p id="countdownSuccess" class="countdown"></p>
    <button onclick="goHome()">ëŒì•„ê°€ê¸°</button>
</div>


<div class="container hidden" id="failScreen">
    <div class="result">âŒ<br>ì´ë¯¸ ì°¸ì—¬í•¨</div>
    <p id="countdownFail" class="countdown"></p>
    <button onclick="goHome()">ëŒì•„ê°€ê¸°</button>
</div>


<div id="finishOverlay" class="hidden">
    <div class="popup-box">
        <div class="popup-header">ë³´ë¬¼ì°¾ê¸° ì¢…ë£Œ ì•ˆë‚´</div>
        <div class="popup-content">
            ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰<br>
            ë§ˆì§€ë§‰ ë³´ë¬¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.<br>
            <span style="font-size:20px; color:#666;">(ë³´ë¬¼ì°¾ê¸° ì´ë²¤íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.)</span>
        </div>
        <button class="popup-btn" onclick="closeFinishPopup()">í™•ì¸ âœ•</button>
    </div>
</div>


<!-- ê´€ë¦¬ì ë²„íŠ¼ -->
<button id="adminBtn" onclick="openAdmin()">
    <img src="img/í–¥ì¼ê³ ë“±í•™êµ.png" alt="ì„¤ì •">
</button>

<!-- ê´€ë¦¬ì íŒ¨ë„ -->
<div id="adminPanel">
    <div id="adminBox">
        <button id="closeX" onclick="closeAdmin()">âœ•</button>
        <h2 id="adminTitle">ê´€ë¦¬ì</h2>

        <div id="pwArea">
            <input inputmode="numeric" type="password" id="adminPw" placeholder="ë¹„ë°€ë²ˆí˜¸"
            onkeydown="if(event.key === 'Enter') checkPw()">
            <br>
            <button class="btn-main" onclick="checkPw()" style="width: 45%">í™•ì¸</button>
            <button class="btn-close" onclick="closeAdmin()" style="width: 45%">ë‹«ê¸°</button>
        </div>

        <div id="adminMenu" class="hidden">
            <button class="btn-main" onclick="resetAll()">ì „ì²´ ì´ˆê¸°í™”</button>
            <br><br>
            <button class="btn-main" onclick="openEdit()">ê¸°ë¡ ìˆ˜ì •</button>
            <br><br>
            <button class="btn-main" onclick="openResult()">ê²°ê³¼ ì·¨í•©</button>
            <br><br>
            <button class="btn-close" onclick="closeAdmin()">ë‹«ê¸°</button>
        </div>

        <div id="editArea" class="hidden">
            <input inputmode="numeric" id="editCode" maxlength="5" placeholder="í•™ë²ˆ ì…ë ¥">
            <br>

            <button class="btn-main" onclick="openEditChoice()">ìˆ˜ì •</button>
            <button class="btn-main" onclick="deleteOne()">ì‚­ì œ</button>
            <br><br>

            <button class="btn-close" onclick="backToMenu()" style="width: 45%">ì´ì „</button>
            <button class="btn-close" onclick="closeAdmin()" style="width: 45%">ë‹«ê¸°</button>
        </div>

        <div id="editChoice" class="hidden">
            <p><b>ì–´ë–»ê²Œ ìˆ˜ì •í• ê¹Œìš”?</b></p>

            <button class="btn-main" onclick="enableRetry()">ë‹¤ì‹œ ì°¸ì—¬ ê°€ëŠ¥í•˜ê²Œ</button>
            <br>

            <p>ë³€ê²½í•  í•™ë²ˆ</p>
            <input inputmode="numeric" id="newCode" maxlength="5" placeholder="00000"
            onkeydown="if(event.key === 'Enter') changeCode()">

            <button class="btn-main" onclick="changeCode()">í•™ë²ˆ ë³€ê²½</button>
            <br><br>

            <button class="btn-close" onclick="backToMenu()" style="width: 45%">ì´ì „</button>
            <button class="btn-close" onclick="closeAdmin()" style="width: 45%">ë‹«ê¸°</button>
        </div>

        <div id="resultArea" class="hidden">

            <div id="resultList"
                style="font-family:'GothicA1';
                overflow:auto;
                font-size:16px;
                line-height: 1.6;
                max-height: 12em;
                text-align:justify;">
            </div>

            <button class="btn-main" onclick="copyResult()">ë³µì‚¬í•˜ê¸°</button>
            <button class="btn-main" onclick="downloadCSV()">CSV íŒŒì¼ ë‹¤ìš´ë¡œë“œ</button>
            <br><br>

            <button class="btn-close" onclick="backToMenu()" style="width: 45%">ì´ì „</button>
            <button class="btn-close" onclick="closeAdmin()" style="width: 45%">ë‹«ê¸°</button>
        </div>
    </div>
</div>

<script>
const ADMIN_PASSWORD = "8180"; /* ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ */
const TOTAL_TREASURE = 40; /* ì´ ë³´ë¬¼ ê°œìˆ˜ */

/* í˜„ì¬ ì‹œê°„ */
function updateClock() {
    const now = new Date();
    const hh = String(now.getHours()).padStart(2, "0");
    const mm = String(now.getMinutes()).padStart(2, "0");
    document.getElementById("clock").textContent = `${hh}:${mm}`;
}

updateClock();
setInterval(updateClock, 1000);

/* ì°¾ì€ ë³´ë¬¼ / ë‚¨ì€ ë³´ë¬¼ ê°œìˆ˜ */
function updateTreasureCount() {
    const found = getCodes().length;
    const remain = Math.max(TOTAL_TREASURE - found, 0);

    document.getElementById("treasureCount").innerHTML =
        `ì°¾ì€ ë³´ë¬¼ ê°œìˆ˜: ${found}<br>ë‚¨ì€ ë³´ë¬¼ ê°œìˆ˜: ${remain}`;
}

updateTreasureCount();

/* ì €ì¥ ë°ì´í„° */
function getCodes() {
    return JSON.parse(localStorage.getItem("codes")) || [];
}
function setCodes(codes) {
    localStorage.setItem("codes", JSON.stringify(codes));
}

/* ì €ì¥ */
function saveCode() {
    const code = document.getElementById("code").value;

    if (!/^\d{5}$/.test(code)) {
        alert("5ìë¦¬ ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš”");
        return;
    }

    const codes = getCodes();
    if (codes.some(c => c.code === code)) {
        show("fail");
        return;
    }

    codes.push({ code, time: Date.now() });
    setCodes(codes);
    updateTreasureCount();
    show("success");
}

/* ì´ˆê¸°í™”ë©´ ëŒì•„ê°€ê¸° (15ì´ˆ) */
let timer = null;

function show(type) {
    ["input","success","fail"].forEach(id =>
        document.getElementById(id + "Screen").classList.add("hidden")
    );
    document.getElementById(type + "Screen").classList.remove("hidden");

    if (type !== "input") startCountdown(type);
}

function startCountdown(type) {
    let count = 15;
    const el = document.getElementById(
        type === "success" ? "countdownSuccess" : "countdownFail"
    );

    clearInterval(timer);
    el.textContent = `${count}ì´ˆ í›„ ëŒì•„ê°‘ë‹ˆë‹¤.`;

    timer = setInterval(() => {
        count--;
        el.textContent = `${count}ì´ˆ í›„ ëŒì•„ê°‘ë‹ˆë‹¤.`;
        if (count === 0) {
            clearInterval(timer);
            goHome();
        }
    }, 1000);
}

function goHome() {
    document.getElementById("code").value = "";
    show("input");
}


/* ë³´ë¬¼ ê°œìˆ˜ ì—…ë°ì´íŠ¸*/
function updateTreasureCount() {
    const found = getCodes().length;
    const remain = Math.max(TOTAL_TREASURE - found, 0);

    const foundStr = String(found).padStart(2, '0');
    const remainStr = String(remain).padStart(2, '0');

    const countEl = document.getElementById("treasureCount");
    if (countEl) {
        countEl.innerHTML = `ì°¾ì€ ë³´ë¬¼ ê°œìˆ˜: ${foundStr}<br>ë‚¨ì€ ë³´ë¬¼ ê°œìˆ˜: ${remainStr}`;
    }

    // ë‚¨ì€ ë³´ë¬¼ì´ 0ê°œì¼ ë•Œ íŒì—… í‘œì‹œ
    if (remain === 0) {
        const overlay = document.getElementById("finishOverlay");
        if (overlay) {
            overlay.style.display = "flex";
            overlay.classList.remove("hidden");
        }
    }
}

/* ë³´ë¬¼ ì°¾ê¸° ì¢…ë£Œ íŒì—… ë‹«ê¸° í•¨ìˆ˜ */
function closeFinishPopup() {
    const overlay = document.getElementById("finishOverlay");
    if (overlay) {
        overlay.style.display = "none";
        overlay.classList.add("hidden");
    }
}

/* ë³´ë¬¼ ì°¾ê¸° ì¢…ë£Œ íŒì—… ì—”í„°í‚¤(ë‹«ê¸°)
document.addEventListener("keydown", function(e) {
    const overlay = document.getElementById("finishOverlay");

    if (e.key === "Enter" && overlay && !overlay.classList.contains("hidden")) {
        closeFinishPopup();
    }
});
*/


/* ê´€ë¦¬ì ë¡œê·¸ì¸ */
function checkPw() {
    if (document.getElementById("adminPw").value !== ADMIN_PASSWORD) {
        alert("ë¹„ë°€ë²ˆí˜¸ ì˜¤ë¥˜");
        return;
    }
    document.getElementById("pwArea").classList.add("hidden");
    document.getElementById("adminMenu").classList.remove("hidden");
    document.getElementById("adminTitle").innerText = "ê´€ë¦¬ì ë©”ë‰´";
}

function openAdmin() {
    resetAdminUI();
    document.getElementById("adminPanel").style.display = "block";
    document.getElementById("pwArea").classList.remove("hidden");
    document.getElementById("adminPw").focus();
}

function closeAdmin() {
    resetAdminUI();
}

/* ì „ì²´ ì´ˆê¸°í™” */
function resetAll() {
    if (!confirm("ëª¨ë‘ ì´ˆê¸°í™”í• ê¹Œìš”?")) return;
    localStorage.removeItem("codes");
    updateTreasureCount();
    alert("ì´ˆê¸°í™” ì™„ë£Œ");
    closeAdmin();
}

/* ê´€ë¦¬ì UI ì´ˆê¸°í™” */
function resetAdminUI() {
    document.getElementById("adminPanel").style.display = "none";
    ["pwArea","adminMenu","editArea","editChoice","resultArea"]
        .forEach(id => document.getElementById(id).classList.add("hidden"));
    ["adminPw","editCode","newCode"].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.value = "";
    });
    document.getElementById("adminTitle").innerText = "ê´€ë¦¬ì";
}

/* ê´€ë¦¬ì ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸° (ì´ì „ë²„íŠ¼) */
function backToMenu() {
    ["pwArea", "editArea", "editChoice", "resultArea"].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.classList.add("hidden");
    });

    ["editCode", "newCode"].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.value = "";
    });

    document.getElementById("adminMenu").classList.remove("hidden");
    document.getElementById("adminTitle").innerText = "ê´€ë¦¬ì ë©”ë‰´";
}
    
function openEdit() {
    document.getElementById("adminMenu").classList.add("hidden");
    document.getElementById("editArea").classList.remove("hidden");
    document.getElementById("adminTitle").innerText = "ê¸°ë¡ ìˆ˜ì •";
}


/* ê¸°ë¡ ìˆ˜ì • ì„ íƒ */
function openEditChoice() {
    const target = document.getElementById("editCode").value;
    const codes = getCodes();

    if (!/^\d{5}$/.test(target)) {
        alert("5ìë¦¬ í•™ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”");
        return;
    }

    const exists = codes.some(item => item.code === target);

    if (!exists) {
        alert("í•´ë‹¹ í•™ë²ˆ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤");
        return;
    }

    document.getElementById("editArea").classList.add("hidden");
    document.getElementById("editChoice").classList.remove("hidden");
}

/* ê¸°ë¡ ì‚­ì œ */
function deleteOne() {
    const target = document.getElementById("editCode").value;
    let codes = getCodes();
    const exists = codes.some(item => item.code === target);

    if (!exists) {
        alert("í•´ë‹¹ í•™ë²ˆì´ ì—†ìŠµë‹ˆë‹¤");
        return;
    }

    if (!confirm("ì‚­ì œí• ê¹Œìš”?")) return;

    setCodes(codes.filter(item => item.code !== target));
    updateTreasureCount();
    alert("ì‚­ì œ ì™„ë£Œ");
    closeAdmin();
}

/* ë‹¤ì‹œ ì°¸ì—¬ ê°€ëŠ¥ */
function enableRetry() {
    let codes = getCodes();
    const target = document.getElementById("editCode").value;

    setCodes(codes.filter(item => item.code !== target));
    updateTreasureCount();
    alert("ë‹¤ì‹œ ì°¸ì—¬ ê°€ëŠ¥í•˜ê²Œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤");
    closeAdmin();
}

/* í•™ë²ˆ ë³€ê²½ */
function changeCode() {
    const oldCode = document.getElementById("editCode").value;
    const newCode = document.getElementById("newCode").value;
    let codes = getCodes();

    if (!/^\d{5}$/.test(newCode)) {
        alert("ë³€ê²½í•  í•™ë²ˆì€ 5ìë¦¬ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤");
        return;
    }

    if (codes.some(item => item.code === newCode)) {
        alert("ì´ë¯¸ ë“±ë¡ëœ í•™ë²ˆì…ë‹ˆë‹¤");
        return;
    }

    // 1. ê¸°ì¡´ í•™ë²ˆ ì‚­ì œ
    let newCodes = codes.filter(item => item.code !== oldCode);
    
    // 2. ìƒˆ í•™ë²ˆ ì¶”ê°€
    newCodes.push({ code: newCode, time: Date.now() });

    setCodes(newCodes);
    updateTreasureCount();
    alert("í•™ë²ˆì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤");
    closeAdmin();
}


/* ê²°ê³¼ ì·¨í•© */
function openResult() {
    document.getElementById("adminMenu").classList.add("hidden");
    document.getElementById("resultArea").classList.remove("hidden");
    document.getElementById("adminTitle").innerText = "ê²°ê³¼ ì·¨í•©";

    const list = document.getElementById("resultList");
    const codes = getCodes();

    if (codes.length === 0) {
        list.textContent = "ì•„ì§ ì…ë ¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.";
        return;
    }

    let htmlContent = `
        <div style="display:flex; justify-content:space-between; font-weight:bold; border-bottom:2px solid #333; margin-bottom:8px; padding-bottom:4px; padding-right: 15px;">
            <span>í•™ë²ˆ</span>
            <span>ì…ë ¥ ì‹œê°</span>
        </div>
    `;

    htmlContent += codes.map(c => {
        const d = new Date(c.time);
        const time =
            `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")} ` +
            `${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}:${String(d.getSeconds()).padStart(2,"0")}`;

        return `
            <div style="display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding: 2px 0; padding-right: 15px;">
                <span>${c.code}</span>
                <span style="color:#555;">${time}</span>
            </div>
        `;
    }).join("");

    list.innerHTML = htmlContent;
}

function copyResult() {
    const codes = getCodes();
    if (codes.length === 0) {
        alert("ì•„ì§ ì…ë ¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.");
        return;
    }

    const text = codes.map(c => {
        const d = new Date(c.time);
        const time =
            `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")} ` +
            `${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}:${String(d.getSeconds()).padStart(2,"0")}`;

        return `${c.code} ${time}`;
    }).join("\n");

    navigator.clipboard.writeText(text);
    alert("ë³µì‚¬ ì™„ë£Œ");
}

function downloadCSV() {
    const codes = getCodes();
    if (codes.length === 0) return alert("ì•„ì§ ì…ë ¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.");

    let csv = "í•™ë²ˆ,ì…ë ¥ì‹œê°\n";
    codes.forEach(c => {
        const d = new Date(c.time);
        const t =
            `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")} ` +
            `${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}:${String(d.getSeconds()).padStart(2,"0")}`;
        csv += `${c.code},${t}\n`;
    });

    const blob = new Blob(["\uFEFF"+csv], { type:"text/csv;charset=utf-8;" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "ë³´ë¬¼ì°¾ê¸° ë¦¬ìŠ¤íŠ¸.csv";
    a.click();
}

</script>


<div id="credit">
    í–¥ì¼ê³ ë“±í•™êµ ì œ14ëŒ€ í•™ìƒìì¹˜íšŒ &lt;ì •ë³´ê¸°ë¡ì‹¤&gt;
    <span class="name">ì´ì„±ì›</span>
</div>


</body>


</html>